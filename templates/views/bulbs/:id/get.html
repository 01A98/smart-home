{% extends "base.html" %}
{% block content %}
    {% from "./macros/breadcrumbs.html" import breadcrumbs %}
    {{ breadcrumbs([navigation["home"], navigation['bulbs'], current_page]) }}
    <main class="w-full h-screen">
        <section
                class="w-full h-full bg-gray-100 dark:bg-gray-900 py-10 px-12 "
        >
            <form
                    method="POST"
                    action="{{ url_for('BulbView', id='new') }}"
                    class="max-w-sm mx-auto flex flex-col justify-center"
            >
                <div class="mb-5">
                    {{ form.name.label.text | safe }}
                    {{ form.name }}
                </div>
                <div class="mb-5">
                    {{ form.ip_address.label.text | safe }}
                    {{ form.ip_address }}
                </div>
                <div class="mb-5">
                    {{ form.room.label.text | safe }}
                    {{ form.room }}
                </div>
                <div class="flex flex-row gap-x-2 justify-center">
                    {% if request.match_info['id'] | int(-1) != -1 %}
                        <button
                                type="submit"
                                hx-patch="{{ url_for('BulbView', id=request.match_info['id']) }}"
                                hx-target="body"
                                class="w-1/3 self-center text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-md text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"
                        >
                            Zapisz
                        </button>
                        <button
                                type="submit"
                                hx-delete="{{ url_for('BulbView', id=request.match_info['id']) }}"
                                hx-confirm="Czy na pewno chcesz usunąć zarówkę?"
                                hx-target="body"
                                class="w-1/3 self-center text-white dark:bg-rose-600 dark:hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-md text-sm px-5 py-2.5 text-center mb-2 dark:focus:ring-purple-900"
                        >
                            Usuń
                        </button>
                    {% else %}
                        <button
                                type="submit"
                                hx-post="{{ url_for('BulbView', id='new') }}"
                                hx-target="body"
                                class="w-1/3 self-center text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-md text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"
                        >
                            Dodaj
                        </button>
                    {% endif %}
                </div>
            </form>
        </section>
    </main>
{% endblock content %}